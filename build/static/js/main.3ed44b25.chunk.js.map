{"version":3,"sources":["app/hooks.ts","app/Videos/videosApi.ts","app/Videos/videosSlice.ts","app/SearchBar/SearchBar.tsx","app/SearchResults/SearchResults.tsx","app/Upload/uploadSlice.ts","app/LoginReg/Login/loginApi.ts","app/LoginReg/Login/loginSlice.ts","app/Upload/Upload.tsx","app/Home/Home.tsx","app/OneVideo/oneVideoApi.ts","app/OneVideo/oneVideoSlice.ts","app/OneVideo/OneVideo.tsx","app/LoginReg/Login/LoginReg.tsx","App.tsx","features/counter/counterAPI.ts","features/counter/counterSlice.ts","app/store.ts","serviceWorker.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","getVideosFromAPI","Promise","resolve","axios","get","then","data","getSearchVideosFromAPI","query","getVideosFromApiAsync","createAsyncThunk","a","response","getSearchVideosFromApiAsync","videosSlice","createSlice","name","initialState","status","videos","searchClicks","reducers","setVideos","state","payload","pushSearchClick","extraReducers","builder","addCase","pending","fulfilled","action","actions","getVideos","getSearchHistory","SearchBar","useState","searchStr","setSearchStr","history","useHistory","dispatch","style","display","textAlign","onSubmit","e","preventDefault","push","encodeURIComponent","type","value","onChange","event","target","SearchResults","params","useParams","searchParams","decodeURIComponent","allVideos","searchHistory","useEffect","rows","map","video","className","padding","onClick","id","_id","src","title","author","views","postVideo","token","formData","FormData","append","localStorage","username","description","thumbnail","url","blob","b64toBlob","fileName","post","headers","res","dataURI","byteString","atob","split","ab","ArrayBuffer","length","ia","Uint8Array","i","charCodeAt","Blob","uploadSlice","setAuthor","setTitle","setDescription","setUrl","setFilename","setThumbnail","setStatus","setVideo","selectAuthor","upload","selectDescription","selectFilename","selectTitle","selectUploadState","selectVideo","loginFromApi","password","errors","loggedIn","undefined","expiresAt","Date","now","document","cookie","loginFromApiAsync","loginSlice","setUsername","setPassword","setUsernameError","param","setPasswordError","setLoggedIn","setToken","selectLoginState","login","selectUsername","selectPassword","selectUsernameErrors","selectPasswordErrors","selectLoggedIn","selectToken","Upload","height","justifyContent","color","accept","files","file","fileReader","FileReader","readAsDataURL","onload","result","Home","getOneVideoFromAPI","getOneVideoFromApiAsync","oneVideoSlice","getVideo","oneVideo","OneVideo","controls","paddingRight","date","toDateString","likes","Login","loginState","errorsUsername","errorsPassword","handleChange","inputName","newStr","setItem","expiresIn","App","to","paddingTop","exact","path","fetchCount","amount","setTimeout","incrementAsync","counterSlice","increment","decrement","incrementByAmount","store","configureStore","reducer","counter","counterReducer","uploadReducer","videosReducer","oneVideoReducer","loginReducer","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"wTAIaA,EAAiB,kBAAMC,eACvBC,EAAkDC,I,gDCFxD,SAASC,IACZ,OAAO,IAAIC,SAA0C,SAACC,GAClDC,IAAMC,IAAI,kBAAkBC,MAAK,SAACC,GAC9BJ,EAAQI,SAKb,SAASC,EAAuBC,GACnC,OAAO,IAAIP,SAA0C,SAACC,GAClDC,IAAMC,IAAN,4BAA+BI,IAASH,MAAK,SAACC,GAC1CJ,EAAQI,SCDpB,IAUaG,EAAwBC,YACjC,0BADiD,sBAEjD,4BAAAC,EAAA,sEAC2BX,IAD3B,cACUY,EADV,yBAGWA,EAASN,MAHpB,4CAMSO,EAA8BH,YACvC,gCADuD,uCAEvD,WAAOF,GAAP,eAAAG,EAAA,sEAC2BJ,EAAuBC,GADlD,cACUI,EADV,yBAGWA,EAASN,MAHpB,2CAFuD,uDAkB9CQ,GAV0BJ,YACnC,2BADmD,sBAEnD,4BAAAC,EAAA,sEAC2BX,IAD3B,cACUY,EADV,yBAGWA,EAASN,MAHpB,4CAQuBS,YAAY,CACnCC,KAAM,SACNC,aAtC8B,CAC9BC,OAAQ,GACRC,OAAQ,GACRC,aAAc,CAAC,IAqCfC,SAAU,CACNC,UAAW,SAACC,EAAOJ,GACfI,EAAMJ,OAASA,EAAOK,SAE1BC,gBAAiB,SAACF,GACdA,EAAMH,aAAa,IAAMG,EAAMH,aAAa,GAAK,GAAK,IAG9DM,cAAe,SAACC,GACZA,EACKC,QAAQnB,EAAsBoB,SAAS,SAACN,GACrCA,EAAML,OAAS,aAElBU,QAAQnB,EAAsBqB,WAAW,SAACP,EAAOQ,GAC9CR,EAAML,OAAS,OACfK,EAAMJ,OAASY,EAAOP,QAAQL,UAEjCS,QAAQf,EAA4BgB,SAAS,SAACN,EAAOQ,GAClDR,EAAML,OAAS,UACfK,EAAMJ,OAAS,MAElBS,QAAQf,EAA4BiB,WAAW,SAACP,EAAOQ,GACpDR,EAAML,OAAS,OACfK,EAAMJ,OAASY,EAAOP,QAAQL,cAyBvC,EAGHL,EAAYkB,QAFZV,EADG,EACHA,UACAG,EAFG,EAEHA,gBAMSQ,EAAY,SAACV,GAAD,OAAsBA,EAAMJ,OAAOA,QAC/Ce,EAAmB,SAACX,GAAD,OAAsBA,EAAMJ,OAAOC,cAGpDN,IAAf,Q,OC5GO,SAASqB,IACZ,MAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACMC,EAAUC,cACVC,EAAW7C,IAWjB,OACI,qBAAK8C,MAAO,CAACC,QAAS,eAAgBC,UAAU,UAAhD,SACI,uBAAMC,SAAU,SAACC,GAAQA,EAAEC,iBAN/BR,EAAQS,KAAR,gCAAsCC,mBAAmBZ,KACzDI,EAAShB,MAKL,UACI,uBAAOyB,KAAM,OAAQC,MAAOd,EAAWe,SAZnD,SAAsBC,GAClBA,EAAMN,iBACNT,EAAae,EAAMC,OAAOH,UAU8C,iD,kBCXzE,SAASI,IACZ,IAAMC,EAAqBC,cACrBC,EAAeC,mBAAmBH,EAAOhD,OACzCiC,EAAW7C,IACXgE,EAAY9D,EAAemC,GAC3B4B,EAAgB/D,EAAeoC,GAC/BK,EAAUC,cAEhBsB,qBAAU,WACNrB,EAASnB,EAAU,KACnBmB,EAAS5B,EAA4B6C,MACtCG,GAMH,IAAME,EAAOH,EAAUI,KAAI,SAACC,GACxB,OACI,sBAAKC,UAAW,YAAaxB,MAAO,CAACyB,QAAS,qBAAsBC,QAAS,kBAN/DC,EAMkFJ,EAAMK,SAL1G/B,EAAQS,KAAR,iBAAuBqB,IAD3B,IAAsBA,GAMd,UACsC,qBAAKE,IAAK,gEAC5C,sBAAKL,UAAW,YAAhB,UAA8BD,EAAMO,MAApC,IAA2C,uBACtCP,EAAMQ,OADX,IACmB,uBACdR,EAAMS,MAFX,IAEkB,gCAM9B,OACI,sBAAKR,UAAW,OAAhB,UAEI,qBAAKG,GAAI,UAAT,qBAGA,qBAAKA,GAAI,aAAT,SACKN,O,UCXJY,EAAYjE,YACrB,mBADqC,uCAErC,WAAOJ,GAAP,uBAAAK,EAAA,yDACWY,EAAyBjB,EAAzBiB,MAAOqD,EAAkBtE,EAAlBsE,MAAOrC,EAAWjC,EAAXiC,QACD,KAAhBhB,EAAM0C,MAFd,kDAGUY,EAAW,IAAIC,UACZC,OAAO,SAAUC,aAAaC,UACvCJ,EAASE,OAAO,cAAexD,EAAM2D,aACrCL,EAASE,OAAO,YAAaxD,EAAM4D,WACnCN,EAASE,OAAO,SAAUxD,EAAML,QAChC2D,EAASE,OAAO,QAASxD,EAAMiD,OAC/BK,EAASE,OAAO,MAAOxD,EAAM6D,KACvBC,EAAOC,EAAU/D,EAAM0C,OAC7BY,EAASE,OAAO,QAASM,EAAM9D,EAAMgE,UACrCpF,IAAMqF,KAAK,aAAcX,EAAU,CAC/BY,QAAS,CACL,MAASb,EACT,OAAUI,aAAaC,YAE5B5E,MAAK,SAACqF,GACmB,eAApBA,EAAIpF,KAAKY,OAITqB,EAAQS,KAAR,KAEAT,EAAQS,KAAK,aAxBzB,4CAFqC,uDAgCzC,SAASsC,EAAUK,GAKf,IAJA,IAAIC,EAAaC,KAAKF,EAAQG,MAAM,KAAK,IACrCC,EAAK,IAAIC,YAAYJ,EAAWK,QAChCC,EAAK,IAAIC,WAAWJ,GAEfK,EAAI,EAAGA,EAAIR,EAAWK,OAAQG,IACnCF,EAAGE,GAAKR,EAAWS,WAAWD,GAElC,OAAO,IAAIE,KAAK,CAACP,GAAK,CAAC7C,KAAM,cAG1B,IAAMqD,EAAcxF,YAAY,CACnCC,KAAM,SACNC,aA9D8B,CAC9BwD,OAAQ,GACRS,YAAa,GACbK,SAAU,SACVrE,OAAQ,OACRiE,UAAW,GACXX,MAAO,GACPY,IAAK,GACLnB,MAAO,IAwDP5C,SAAU,CACNmF,UAAW,SAACjF,EAAOQ,GACfR,EAAMkD,OAAS1C,EAAOP,SAG1BiF,SAAU,SAAClF,EAAOQ,GACdR,EAAMiD,MAAQzC,EAAOP,SAEzBkF,eAAgB,SAACnF,EAAOQ,GACpBR,EAAM2D,YAAcnD,EAAOP,SAE/BmF,OAAQ,SAACpF,EAAOQ,GACZR,EAAM6D,IAAMrD,EAAOP,SAEvBoF,YAAa,SAACrF,EAAOQ,GACjBR,EAAMgE,SAAWxD,EAAOP,SAE5BqF,aAAc,SAACtF,EAAOQ,GAClBR,EAAM4D,UAAYpD,EAAOP,SAE7BsF,UAAW,SAACvF,EAAOQ,GACfR,EAAML,OAASa,EAAOP,SAE1BuF,SAAU,SAACxF,EAAOQ,GACdR,EAAM0C,MAAQlC,EAAOP,YAK1B,EASH+E,EAAYvE,QAPZ0E,GAFG,EACHF,UADG,EAEHE,gBACAE,EAHG,EAGHA,YAGAH,GANG,EAIHK,UAJG,EAKHD,aALG,EAMHJ,UAEAM,GARG,EAOHJ,OAPG,EAQHI,UAMSC,EAAe,SAACzF,GAAD,OAAsBA,EAAM0F,OAAOxC,QAClDyC,EAAoB,SAAC3F,GAAD,OAAsBA,EAAM0F,OAAO/B,aACvDiC,EAAiB,SAAC5F,GAAD,OAAsBA,EAAM0F,OAAO1B,UAGpD6B,EAAc,SAAC7F,GAAD,OAAsBA,EAAM0F,OAAOzC,OACjD6C,EAAoB,SAAC9F,GAAD,OAAsBA,EAAM0F,QAEhDK,EAAc,SAAC/F,GAAD,OAAsBA,EAAM0F,OAAOhD,OAG/CsC,IAAf,QCtIO,SAASgB,EAAatC,EAAkBuC,GAC3C,OAAO,IAAIvH,SAAsC,SAACC,GAC9CC,IAAMqF,KAAK,kBAAmB,CAACP,SAAUA,EAAUuC,SAAUA,IAAWnH,MAAK,SAACC,GAC1EJ,EAAQI,SCepB,IAAMW,EAA2B,CAC7BC,OAAQ,GACR+D,SAAU,OACVuC,SAAU,OACVC,OAAQ,CACJxC,SAAU,GACVuC,SAAU,IAEdE,gBAK+BC,IAA3B3C,aAAa4C,WAA2B5C,aAAa4C,UAAYC,KAAKC,SACtEC,SAASC,OAAS,IACX,GANXpD,MAAUI,aAAaC,UAAc8C,SAASC,OAAUD,SAASC,OAAS,IAkBvE,IAAMC,EAAoBvH,YAC7B,qBAD6C,uCAE7C,WAAOa,GAAP,eAAAZ,EAAA,sEAC2B4G,EAAahG,EAAM0D,SAAU1D,EAAMiG,UAD9D,cACU5G,EADV,yBAGWA,EAASN,MAHpB,2CAF6C,uDASpC4H,EAAanH,YAAY,CAClCC,KAAM,QACNC,eAEAI,SAAU,CACN8G,YAAa,SAAC5G,EAAO0D,GACjB1D,EAAM0D,SAAWA,EAASzD,SAE9B4G,YAAa,SAAC7G,EAAOiG,GACjBjG,EAAMiG,SAAWA,EAAShG,SAE9B6G,iBAAkB,SAAC9G,EAAO+G,GACtB/G,EAAMkG,OAAOxC,SAAWqD,EAAM9G,SAElC+G,iBAAkB,SAAChH,EAAO+G,GACtB/G,EAAMkG,OAAOD,SAAWc,EAAM9G,SAElCgH,YAAa,SAACjH,EAAO+G,GACjB/G,EAAMmG,SAAWY,EAAM9G,SAE3BiH,SAAU,SAAClH,EAAO+G,GACd/G,EAAMqD,MAAQ0D,EAAM9G,UAI5BE,cAAe,SAACC,GACZA,EACKC,QAAQqG,EAAkBpG,SAAS,SAACN,GACjCA,EAAML,OAAS,aAElBU,QAAQqG,EAAkBnG,WAAW,SAACP,EAAOQ,GAC1CR,EAAML,OAAS,aAKxB,EAQHgH,EAAWlG,QAPXmG,EADG,EACHA,YACAC,GAFG,EAEHA,YACAC,GAHG,EAGHA,iBACAE,GAJG,EAIHA,iBACAC,GALG,EAKHA,YACAC,GANG,EAMHA,SAOSC,GAAmB,SAACnH,GAAD,OAAsBA,EAAMoH,OAC/CC,GAAiB,SAACrH,GAAD,OAAsBA,EAAMoH,MAAM1D,UACnD4D,GAAiB,SAACtH,GAAD,OAAsBA,EAAMoH,MAAMnB,UAEnDsB,GAAuB,SAACvH,GAAD,OAAsBA,EAAMoH,MAAMlB,OAAOxC,UAChE8D,GAAuB,SAACxH,GAAD,OAAsBA,EAAMoH,MAAMlB,OAAOD,UAChEwB,GAAiB,SAACzH,GAAD,OAAsBA,EAAMoH,MAAMjB,UACnDuB,GAAc,SAAC1H,GAAD,OAAsBA,EAAMoH,MAAM/D,OAE9CsD,KAAf,QClGO,SAASgB,KACGpJ,EAAekH,GAA9B,IACMxC,EAAQ1E,EAAesH,GACvBlC,EAAcpF,EAAeoH,GAC7B3B,EAAWzF,EAAeqH,GAE1BvC,GADQ9E,EAAewH,GACfxH,EAAemJ,KACvB1H,EAAQzB,EAAeuH,GACvB5E,EAAW7C,IACX2C,EAAUC,cA4BhB,OA3BiB1C,EAAekJ,KAG5BzG,EAAQS,KAAK,UAyBb,sBAAMH,SAAU,SAACC,GACbA,EAAEC,iBAVNN,EAASkC,EAAU,CACfpD,MAAOA,EACPqD,MAAOA,EACPrC,QAASA,MAMb,SAII,sBAAK8B,GAAI,iBAAT,UACI,qBAAKA,GAAG,qBAER,sBAAKA,GAAI,SAAT,UACI,wBAAOA,GAAI,QAAX,kBACS,uBACL,0BAAUlB,MAAOqB,EAAOpB,SAAU,SAACN,GAC/BA,EAAEC,iBACFN,EAASgE,EAAS3D,EAAEQ,OAAOH,cAE3B,uBACR,uBAEA,gDACe,uBACX,0BAAUA,MAAO+B,EAAa9B,SAAU,SAACN,GACrCA,EAAEC,iBACFN,EAASiE,EAAe5D,EAAEQ,OAAOH,SAClCT,MAAO,CAACyG,OAAQ,WAAW,0BAC1B,uBAgBR,uBACA,qBAAKzG,MAAO,CAACC,QAAS,OAAQyG,eAAgB,UAA9C,SACI,iDAGR,sBAAK/E,GAAG,cAAR,UACI,0CAEI,sBAAKA,GAAI,YAAa3B,MAAO,CAACE,UAAW,OAAzC,UACK2C,EAED,uBAAO7C,MAAO,CAAC2G,MAAO,SAAUC,OAAQ,YAAapG,KAAM,OAAQE,SAxE3F,SAAoBN,GAChB,KAAuB,OAAnBA,EAAEQ,OAAOiG,OAAkBzG,EAAEQ,OAAOiG,MAAMtD,OAAS,GAAvD,CACA,IAAMuD,EAAO1G,EAAEQ,OAAOiG,MAAM,GAC5B,GAAiB,aAAbC,EAAKtG,KAAT,CACA,IAAMuG,EAAa,IAAIC,WACvBD,EAAWE,cAAcH,GACzBC,EAAWG,OAAS,WAChBnH,EAASsE,EAAS0C,EAAWI,SAC7BpH,EAASmE,EAAY4C,EAAKxI,mBAkEV,0BAEZ,qBAAKqD,GAAG,2B,MCpGjB,SAASyF,KACZ,IAAMrH,EAAW7C,IACXgE,EAAY9D,EAAemC,GAC3BM,EAAUC,cAEhBsB,qBAAU,WACNrB,EAAShC,OAEV,IAMH,IAAMsD,EAAOH,EAAUI,KAAI,SAACC,GACxB,OACI,sBAAKC,UAAW,QAASE,QAAS,kBANpBC,EAMuCJ,EAAMK,SAL/D/B,EAAQS,KAAR,iBAAuBqB,IAD3B,IAAsBA,GAMd,UACsC,qBAClCE,IAAK,gEACL,gCACKN,EAAMO,MADX,IACkB,uBACbP,EAAMQ,OAFX,IAEmB,uBACdR,EAAMS,MAHX,UAGwB,gCAKpC,OACI,sBAAKL,GAAI,OAAT,UACI,qBAAKA,GAAI,YAGT,qBAAKA,GAAI,YAAT,SACKN,OCvCV,SAASgG,GAAmB1F,GAC/B,OAAO,IAAIpE,SAA0C,SAACC,GAClDC,IAAMC,IAAN,yBAA4BiE,IAAMhE,MAAK,SAACC,GACpCJ,EAAQI,SCQpB,IASa0J,GAA0BtJ,YACnC,8BADmD,uCAEnD,WAAO2D,GAAP,eAAA1D,EAAA,sEAC2BoJ,GAAmB1F,GAD9C,cACUzD,EADV,yBAGWA,EAASN,MAHpB,2CAFmD,uDAS1C2J,GAAgBlJ,YAAY,CACrCC,KAAM,SACNC,aApBgC,CAChCC,OAAQ,GACR+C,MAAO,IAoBP5C,SAAU,CACN0F,SAAU,SAACxF,EAAO0C,GACd1C,EAAM0C,MAAM,GAAKA,EAAMzC,UAG/BE,cAAe,SAACC,GACZA,EACKC,QAAQoI,GAAwBnI,SAAS,SAACN,GACvCA,EAAML,OAAS,aAElBU,QAAQoI,GAAwBlI,WAAW,SAACP,EAAOQ,GAChDR,EAAML,OAAS,OACfK,EAAM0C,MAAQlC,EAAOP,QAAQL,aAgChC+I,IALTD,GAAcjI,QADd+E,SAMoB,SAACxF,GAAD,OAAsBA,EAAM4I,SAASlG,QAG9CgG,MAAf,Q,MCxEO,SAASG,KACZ,IAAM3H,EAAW7C,IAEXuK,GADU3H,cACC1C,EAAeoK,KAC1B1G,EAAmBC,cASzB,OARAK,qBAAU,WAMNrB,EAASuH,GAAwBxG,EAAOa,OACzC,IACqB,IAApB8F,EAASlE,OAEL,6CAOJ,sBAAK5B,GAAI,YAAT,UACI,sBAAKA,GAAI,oBAAT,UACI,uBAAOA,GAAI,QAASgG,UAAQ,EAA5B,SACI,wBAAQ9F,IAAK4F,EAAS,GAAG5F,IAAKrB,KAAM,gBAExC,qBAAKmB,GAAI,QAAT,SAAmB8F,EAAS,GAAG3F,QAC/B,sBAAKH,GAAI,cAAT,UAAwB,uBACpB3B,MAAO,CAAC4H,aAAc,QADF,UACYH,EAAS,GAAGzF,MADxB,YAC4C,IAAImD,KAAKsC,EAAS,GAAGI,MAAMC,kBAE/F,gCACI,sBAAK9H,MAAO,CAACC,QAAS,OAAQyG,eAAgB,YAA9C,UACKe,EAAS,GAAGM,MADjB,YAGA,6BAGR,qBAAKpG,GAAI,UAAT,2BC1BL,SAASqG,KACZ,IAAMjI,EAAW7C,IACX+K,EAAa7K,EAAe4I,IAC5BzD,EAAWnF,EAAe8I,IAC1BpB,EAAW1H,EAAe+I,IAC1B+B,EAAiB9K,EAAegJ,IAChC+B,EAAiB/K,EAAeiJ,IAGhCxG,EAAUC,cAEhB,SAASsI,EAAaC,EAAmBC,GACrC,OAAQD,GACJ,IAAK,WACGC,EAAO/E,OAPJ,EAQHxD,EAAS4F,GAAiB,6BAAD,OARtB,EAQsB,uBAEzB5F,EAAS4F,GAAiB,KAE9B,MACJ,IAAK,WACG2C,EAAO/E,OAbJ,EAcHxD,EAAS8F,GAAiB,6BAAD,OAdtB,EAcsB,uBAEzB9F,EAAS8F,GAAiB,MA8B1C,OACI,qBAAK7F,MAAO,CAACE,UAAW,UAAxB,SACI,uBAAMC,SAAU,SAACC,GACbA,EAAEC,iBA1BNkC,EAASgB,OAxBE,GAwBqBuB,EAASvB,OAvB9B,GAwBfxD,EAASwF,EAAkB0C,IAAatK,MAAK,SAACqF,GACf,eAAvBA,EAAIlE,QAAQN,QAEZ8D,aAAaiG,QAAQ,WAAYvF,EAAIlE,QAAQyD,UAC7CD,aAAaiG,QAAQ,QAASvF,EAAIlE,QAAQoD,OAC1CI,aAAaiG,QAAQ,YAAapD,KAAKC,MAAQpC,EAAIlE,QAAQ0J,WAE3DnD,SAASC,OAAStC,EAAIlE,QAAQoD,MAC9BnC,EAAS+F,IAAY,IACrB/F,EAASgG,GAAS/C,EAAIlE,QAAQoD,QAC9BrC,EAAQS,KAAK,MAEe,mBAAvB0C,EAAIlE,QAAQN,OACjBuB,EAAS8F,GAAiB,yBAG1B9F,EAAS4F,GAAiB,6BAC1B5F,EAAS8F,GAAiB,kCAO9B,UAII,8CACa,uBACT,uBAAOrF,KAAM,OAAQlC,KAAM,WAAYmC,MAAO8B,EAAU7B,SAAU,SAACN,GAC/DL,EAAS0F,EAAYrF,EAAEQ,OAAOH,QAC9B2H,EAAa,WAAYhI,EAAEQ,OAAOH,UAClC,uBACHyH,KACG,uBACR,8CACa,uBACT,uBAAO1H,KAAM,WAAYlC,KAAM,WAAYmC,MAAOqE,EAC3CpE,SAAU,SAACN,GACPL,EAAS2F,GAAYtF,EAAEQ,OAAOH,QAC9B2H,EAAa,WAAYhI,EAAEQ,OAAOH,UAClC,uBACV0H,KACG,uBACR,uBACA,uBAAO3H,KAAM,SAAUC,MAAO,eC7C/BgI,OA1Cf,WAEI,OACI,qBAAK9G,GAAI,MAAT,SACI,eAAC,IAAD,WACI,sBAAKA,GAAI,SAAT,UACI,cAAC,IAAD,CAAM3B,MAAO,CAACC,QAAS,gBAAiByI,GAAI,IAA5C,SAAiD,mBAC7C/G,GAAI,OADyC,0BAEjD,qBAAK3B,MAAO,CAACE,UAAW,SAAUyI,WAAY,OAA9C,SACI,cAAClJ,EAAD,MAEJ,sBAAKO,MAAO,CAAC2I,WAAY,OAAzB,UACI,cAAC,IAAD,CAAM3I,MAAO,CAACC,QAAS,eAAgBwB,QAAS,iBAC1CiH,GAAI,SADV,SACqBtL,EAAekJ,IAAkB,cAAgB,UACtE,cAAC,IAAD,CAAMtG,MAAO,CAACC,QAAS,eAAgBwB,QAAS,iBAC1CiH,GAAI,UADV,0BAIR,eAAC,IAAD,WACI,cAAC,IAAD,CAAOE,OAAK,EAACC,KAAM,IAAnB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAM,aAAnB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOA,KAAM,+BAAb,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOA,KAAM,SAAb,SACI,cAACb,GAAD,MAEJ,cAAC,IAAD,CAAOa,KAAM,UAAb,SACI,cAAC,GAAD,eC7CjB,SAASC,KAAwB,IAAbC,EAAY,uDAAH,EAClC,OAAO,IAAIxL,SAA0B,SAACC,GAAD,OACnCwL,YAAW,kBAAMxL,EAAQ,CAAEI,KAAMmL,MAAW,QCMhD,IAUaE,GAAiBjL,YAC5B,qBAD4C,uCAE5C,WAAO+K,GAAP,eAAA9K,EAAA,sEACyB6K,GAAWC,GADpC,cACQ7K,EADR,yBAGSA,EAASN,MAHlB,2CAF4C,uDASjCsL,GAAe7K,YAAY,CACtCC,KAAM,UACNC,aArBiC,CACjCkC,MAAO,EACPjC,OAAQ,QAqBRG,SAAU,CACRwK,UAAW,SAACtK,GAKVA,EAAM4B,OAAS,GAEjB2I,UAAW,SAACvK,GACVA,EAAM4B,OAAS,GAGjB4I,kBAAmB,SAACxK,EAAOQ,GACzBR,EAAM4B,OAASpB,EAAOP,UAK1BE,cAAe,SAACC,GACdA,EACGC,QAAQ+J,GAAe9J,SAAS,SAACN,GAChCA,EAAML,OAAS,aAEhBU,QAAQ+J,GAAe7J,WAAW,SAACP,EAAOQ,GACzCR,EAAML,OAAS,OACfK,EAAM4B,OAASpB,EAAOP,cAKvB,GAAoDoK,GAAa5J,QAmBzD4J,IAnBR,GAAQC,UAAR,GAAmBC,UAAnB,GAA8BC,kBAmBtBH,GAAf,SC1EaI,GAAQC,YAAe,CAClCC,QAAS,CACPC,QAASC,GACTnF,OAAQoF,EACRlL,OAAQmL,EACRnC,SAAUoC,GACV5D,MAAO6D,MCDSC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCVNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUhB,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJjE,SAASkF,eAAe,SD0HpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB/M,MAAK,SAACgN,GACLA,EAAaC,gBAEdC,OAAM,SAACC,GACNC,QAAQD,MAAMA,EAAME,c","file":"static/js/main.3ed44b25.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import axios, {AxiosResponse} from \"axios\";\r\nimport {VideoDataResponse} from \"./VideoInterfaces\";\r\n\r\nexport function getVideosFromAPI(){\r\n    return new Promise<AxiosResponse<VideoDataResponse>>((resolve) => {\r\n        axios.get(\"/api/video/all\").then((data:AxiosResponse<VideoDataResponse>) =>{\r\n            resolve(data)\r\n        })\r\n    })\r\n}\r\n\r\nexport function getSearchVideosFromAPI(query: string){\r\n    return new Promise<AxiosResponse<VideoDataResponse>>((resolve) => {\r\n        axios.get(`/api/video/search/${query}`).then((data:AxiosResponse<VideoDataResponse>) =>{\r\n            resolve(data)\r\n        })\r\n    })\r\n}","import {createAsyncThunk, createSlice, PayloadAction} from '@reduxjs/toolkit';\r\nimport {RootState, AppThunk} from '../../app/store';\r\nimport axios, {AxiosResponse} from 'axios'\r\nimport {VideoDataResponse} from \"./VideoInterfaces\";\r\nimport {Video} from \"./VideoInterfaces\";\r\nimport {getSearchVideosFromAPI, getVideosFromAPI} from \"./videosApi\";\r\n\r\nexport interface VideosState {\r\n    status: string,\r\n    videos: Video[],\r\n    searchClicks: number[]\r\n}\r\n\r\nconst initialState: VideosState = {\r\n    status: \"\",\r\n    videos: [],\r\n    searchClicks: [0]\r\n};\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched. Thunks are\r\n// typically used to make async requests.\r\nexport const getVideosFromApiAsync = createAsyncThunk(\r\n    'videos/getVideosFromApi',\r\n    async () => {\r\n        const response = await getVideosFromAPI();\r\n        // The value we return becomes the `fulfilled` action payload\r\n        return response.data;\r\n    }\r\n);\r\nexport const getSearchVideosFromApiAsync = createAsyncThunk(\r\n    'videos/getSearchVideosFromApi',\r\n    async (query: string) => {\r\n        const response = await getSearchVideosFromAPI(query);\r\n        // The value we return becomes the `fulfilled` action payload\r\n        return response.data;\r\n    }\r\n);\r\nexport const getOneVideoFromApiAsync = createAsyncThunk(\r\n    'video/getOneVideoFromApi',\r\n    async () => {\r\n        const response = await getVideosFromAPI();\r\n        // The value we return becomes the `fulfilled` action payload\r\n        return response.data;\r\n    }\r\n)\r\n\r\n\r\nexport const videosSlice = createSlice({\r\n    name: 'upload',\r\n    initialState,\r\n    // The `reducers` field lets us define reducers and generate associated actions\r\n    reducers: {\r\n        setVideos: (state, videos: PayloadAction<Video[]>) => {\r\n            state.videos = videos.payload\r\n        },\r\n        pushSearchClick: (state) => {\r\n            state.searchClicks[0] = (state.searchClicks[0] + 1) % 3\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(getVideosFromApiAsync.pending, (state) => {\r\n                state.status = 'loading';\r\n            })\r\n            .addCase(getVideosFromApiAsync.fulfilled, (state, action) => {\r\n                state.status = 'idle';\r\n                state.videos = action.payload.videos;\r\n            })\r\n            .addCase(getSearchVideosFromApiAsync.pending, (state, action) => {\r\n                state.status = 'loading';\r\n                state.videos = [];\r\n            })\r\n            .addCase(getSearchVideosFromApiAsync.fulfilled, (state, action) => {\r\n                state.status = 'idle';\r\n                state.videos = action.payload.videos;\r\n            })\r\n    },\r\n\r\n    // author: \"\",\r\n    // description: \"\",\r\n    // thumbnail: \"\",\r\n    // status: 'idle',\r\n    // title: \"\",\r\n    // url: \"\",\r\n    // video: \"\"\r\n    // getVideosReq: (state) => {\r\n    //     axios.get(\"/api/video/all\").then((data:AxiosResponse<VideoDataResponse>) => {\r\n    //         state.videos = data.data.videos\r\n    //         console.log(data)\r\n    //     })\r\n    // }\r\n})\r\n// author: \"\",\r\n//     description: \"\",\r\n//     thumbnail: \"\",\r\n//     status: 'idle',\r\n//     title: \"\",\r\n//     url: \"\",\r\n//     video: \"\"\r\nexport const {\r\n    setVideos,\r\n    pushSearchClick\r\n} = videosSlice.actions;\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\r\nexport const getVideos = (state: RootState) => state.videos.videos;\r\nexport const getSearchHistory = (state: RootState) => state.videos.searchClicks\r\n\r\n\r\nexport default videosSlice.reducer;\r\n","import React, {ChangeEvent, useState} from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useAppDispatch} from \"../hooks\";\r\nimport {pushSearchClick} from \"../Videos/videosSlice\";\r\n\r\nexport function SearchBar(){\r\n    const [searchStr, setSearchStr] = useState(\"\")\r\n    const history = useHistory()\r\n    const dispatch = useAppDispatch()\r\n\r\n    function handleChange(event: ChangeEvent<HTMLInputElement>){\r\n        event.preventDefault()\r\n        setSearchStr(event.target.value)\r\n    }\r\n    function onClickButton(){\r\n        history.push(`/results/search_query=${encodeURIComponent(searchStr)}`)\r\n        dispatch(pushSearchClick())\r\n    }\r\n\r\n    return (\r\n        <div style={{display: \"inline-block\", textAlign:\"center\"}}>\r\n            <form onSubmit={(e) => { e.preventDefault(); onClickButton()}}>\r\n                <input type={\"text\"} value={searchStr} onChange={handleChange}/><button>Search</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import {useHistory, useParams} from \"react-router-dom\"\r\nimport './SearchResults.scss'\r\nimport {useEffect} from \"react\";\r\nimport {useAppDispatch, useAppSelector} from \"../hooks\";\r\nimport {getSearchHistory, getSearchVideosFromApiAsync, getVideos, setVideos} from \"../Videos/videosSlice\";\r\nimport {getSearchVideosFromAPI} from \"../Videos/videosApi\";\r\n\r\ninterface QueryParams {\r\n    query: string\r\n}\r\n\r\nexport function SearchResults(){\r\n    const params:QueryParams = useParams()\r\n    const searchParams = decodeURIComponent(params.query)\r\n    const dispatch = useAppDispatch()\r\n    const allVideos = useAppSelector(getVideos)\r\n    const searchHistory = useAppSelector(getSearchHistory)\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        dispatch(setVideos([]))\r\n        dispatch(getSearchVideosFromApiAsync(searchParams))\r\n    }, searchHistory)\r\n\r\n    function onClickVideo(id:string){\r\n        history.push(`/watch/${id}`)\r\n    }\r\n\r\n    const rows = allVideos.map((video) => {\r\n        return (\r\n            <div className={\"searchrow\"} style={{padding: \"20px 0px 20px 0px\"}} onClick={() => onClickVideo(video._id)}>\r\n                {/*<img src={video.thumbnail}/>*/}<img src={\"https://getuikit.com/v2/docs/images/placeholder_600x400.svg\"}/>\r\n                <div className={\"videoinfo\"}>{video.title} <br/>\r\n                    {video.author} <br/>\r\n                    {video.views} <br/>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    })\r\n    return (\r\n        <div className={\"grid\"}>\r\n            {/*<div style={{gridColumnEnd: 2}}>*/}\r\n            <div id={\"sidebar\"}>\r\n                Sidebar\r\n            </div>\r\n            <div id={\"searchrows\"}>\r\n                {rows}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {createAsyncThunk, createSlice, PayloadAction} from '@reduxjs/toolkit';\r\nimport {RootState, AppThunk} from '../../app/store';\r\nimport axios from 'axios'\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {loginFromApi} from \"../LoginReg/Login/loginApi\";\r\nimport {LoginState} from \"../LoginReg/Login/loginSlice\";\r\n\r\n\r\nexport interface UploadState {\r\n    author: string,\r\n    description: string,\r\n    fileName: string,\r\n    thumbnail: string,\r\n    status: 'idle' | 'uploading' | 'successful' | 'failed'\r\n    title: string,\r\n    url: string,\r\n    video: string\r\n}\r\n\r\nconst initialState: UploadState = {\r\n    author: \"\",\r\n    description: \"\",\r\n    fileName: \"Upload\",\r\n    status: 'idle',\r\n    thumbnail: \"\",\r\n    title: \"\",\r\n    url: \"\",\r\n    video: \"\",\r\n};\r\n\r\ninterface postRequestData {\r\n    state: UploadState,\r\n    token: string,\r\n    history: any\r\n}\r\n\r\nexport const postVideo = createAsyncThunk(\r\n    'upload/postVideo',\r\n    async (data: postRequestData) => {\r\n        const {state, token, history} = data\r\n        if (state.video === \"\") return;\r\n        const formData = new FormData()\r\n        formData.append(\"author\", localStorage.username)\r\n        formData.append(\"description\", state.description)\r\n        formData.append(\"thumbnail\", state.thumbnail)\r\n        formData.append(\"status\", state.status)\r\n        formData.append(\"title\", state.title)\r\n        formData.append(\"url\", state.url)\r\n        const blob = b64toBlob(state.video)\r\n        formData.append(\"video\", blob, state.fileName)\r\n        axios.post(\"/api/video\", formData, {\r\n            headers: {\r\n                'token': token,\r\n                'author': localStorage.username\r\n            }\r\n        }).then((res) => {\r\n            if (res.data.status === \"successful\") {\r\n                // File is not uploaded synchronously\r\n                // TODO: Query the upload until it is available..\r\n                // history.push(`watch/${res.data.video._id}`)\r\n                history.push(`/`)\r\n            } else {\r\n                history.push('/login')\r\n            }\r\n        })\r\n    }\r\n)\r\n\r\nfunction b64toBlob(dataURI: string) {\r\n    var byteString = atob(dataURI.split(',')[1]);\r\n    var ab = new ArrayBuffer(byteString.length);\r\n    var ia = new Uint8Array(ab);\r\n\r\n    for (var i = 0; i < byteString.length; i++) {\r\n        ia[i] = byteString.charCodeAt(i);\r\n    }\r\n    return new Blob([ab], {type: 'video/mp4'});\r\n}\r\n\r\nexport const uploadSlice = createSlice({\r\n    name: 'upload',\r\n    initialState,\r\n    // The `reducers` field lets us define reducers and generate associated actions\r\n    reducers: {\r\n        setAuthor: (state, action: PayloadAction<string>) => {\r\n            state.author = action.payload\r\n        },\r\n        //Add payload here\r\n        setTitle: (state, action: PayloadAction<string>) => {\r\n            state.title = action.payload\r\n        },\r\n        setDescription: (state, action: PayloadAction<string>) => {\r\n            state.description = action.payload\r\n        },\r\n        setUrl: (state, action: PayloadAction<string>) => {\r\n            state.url = action.payload\r\n        },\r\n        setFilename: (state, action: PayloadAction<string>) => {\r\n            state.fileName = action.payload\r\n        },\r\n        setThumbnail: (state, action: PayloadAction<string>) => {\r\n            state.thumbnail = action.payload\r\n        },\r\n        setStatus: (state, action: PayloadAction<'idle' | 'uploading' | 'successful' | 'failed'>) => {\r\n            state.status = action.payload\r\n        },\r\n        setVideo: (state, action: PayloadAction<string>) => {\r\n            state.video = action.payload\r\n        },\r\n    }\r\n})\r\n\r\nexport const {\r\n    setAuthor,\r\n    setDescription,\r\n    setFilename,\r\n    setStatus,\r\n    setThumbnail,\r\n    setTitle,\r\n    setUrl,\r\n    setVideo,\r\n} = uploadSlice.actions;\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\r\nexport const selectAuthor = (state: RootState) => state.upload.author;\r\nexport const selectDescription = (state: RootState) => state.upload.description;\r\nexport const selectFilename = (state: RootState) => state.upload.fileName;\r\nexport const selectStatus = (state: RootState) => state.upload.status;\r\nexport const selectThumbnail = (state: RootState) => state.upload.thumbnail;\r\nexport const selectTitle = (state: RootState) => state.upload.title;\r\nexport const selectUploadState = (state: RootState) => state.upload;\r\nexport const selectUrl = (state: RootState) => state.upload.url;\r\nexport const selectVideo = (state: RootState) => state.upload.video;\r\n\r\n\r\nexport default uploadSlice.reducer;\r\n","import axios, {AxiosResponse} from \"axios\";\r\nimport {LoginResponse} from \"./LoginInterface\";\r\n\r\nexport function loginFromApi(username: string, password: string) {\r\n    return new Promise<AxiosResponse<LoginResponse>>((resolve) => {\r\n        axios.post(\"api/login/login\", {username: username, password: password}).then((data: AxiosResponse<LoginResponse>) => {\r\n            resolve(data)\r\n        })\r\n    })\r\n}","import {createAsyncThunk, createSlice, PayloadAction} from '@reduxjs/toolkit';\r\nimport axios, {AxiosResponse} from 'axios'\r\nimport {getOneVideoFromAPI} from \"../../OneVideo/oneVideoApi\";\r\nimport {loginFromApi} from \"./loginApi\";\r\nimport {LoginResponse} from \"./LoginInterface\";\r\nimport {RootState} from \"../../store\";\r\n\r\nexport interface LoginErrors {\r\n    username: string,\r\n    password: string\r\n}\r\n\r\nexport interface LoginState {\r\n    status: string,\r\n    username: string,\r\n    password: string,\r\n    errors: LoginErrors,\r\n    loggedIn: boolean,\r\n    token: string\r\n}\r\n\r\nconst initialState: LoginState = {\r\n    status: \"\",\r\n    username: \"user\",\r\n    password: \"pass\",\r\n    errors: {\r\n        username: \"\",\r\n        password: \"\"\r\n    },\r\n    loggedIn: checkIfLoggedIn(),\r\n    token: (!!localStorage.username || !!document.cookie) ? document.cookie : \"\"\r\n};\r\n\r\nfunction checkIfLoggedIn() {\r\n    if (localStorage.expiresAt === undefined || localStorage.expiresAt < Date.now()) {\r\n        document.cookie = \"\"\r\n        return false\r\n    } else {\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched. Thunks are\r\n// typically used to make async requests.\r\nexport const loginFromApiAsync = createAsyncThunk(\r\n    'login/loginFromApi',\r\n    async (state: LoginState) => {\r\n        const response = await loginFromApi(state.username, state.password);\r\n        // // The value we return becomes the `fulfilled` action payload\r\n        return response.data;\r\n    }\r\n);\r\n\r\nexport const loginSlice = createSlice({\r\n    name: 'login',\r\n    initialState,\r\n    // The `reducers` field lets us define reducers and generate associated actions\r\n    reducers: {\r\n        setUsername: (state, username: PayloadAction<string>) => {\r\n            state.username = username.payload\r\n        },\r\n        setPassword: (state, password: PayloadAction<string>) => {\r\n            state.password = password.payload\r\n        },\r\n        setUsernameError: (state, param: PayloadAction<string>) => {\r\n            state.errors.username = param.payload\r\n        },\r\n        setPasswordError: (state, param: PayloadAction<string>) => {\r\n            state.errors.password = param.payload\r\n        },\r\n        setLoggedIn: (state, param: PayloadAction<boolean>) => {\r\n            state.loggedIn = param.payload\r\n        },\r\n        setToken: (state, param: PayloadAction<string>) => {\r\n            state.token = param.payload\r\n        }\r\n\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(loginFromApiAsync.pending, (state) => {\r\n                state.status = 'loading';\r\n            })\r\n            .addCase(loginFromApiAsync.fulfilled, (state, action) => {\r\n                state.status = 'idle';\r\n            })\r\n    },\r\n})\r\n\r\nexport const {\r\n    setUsername,\r\n    setPassword,\r\n    setUsernameError,\r\n    setPasswordError,\r\n    setLoggedIn,\r\n    setToken\r\n\r\n} = loginSlice.actions;\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\r\nexport const selectLoginState = (state: RootState) => state.login\r\nexport const selectUsername = (state: RootState) => state.login.username\r\nexport const selectPassword = (state: RootState) => state.login.password\r\nexport const selectErrors = (state: RootState) => state.login.errors\r\nexport const selectUsernameErrors = (state: RootState) => state.login.errors.username\r\nexport const selectPasswordErrors = (state: RootState) => state.login.errors.password\r\nexport const selectLoggedIn = (state: RootState) => state.login.loggedIn\r\nexport const selectToken = (state: RootState) => state.login.token\r\n\r\nexport default loginSlice.reducer;","import './Upload.scss'\r\nimport {useAppDispatch, useAppSelector} from \"../hooks\";\r\nimport {\r\n    postVideo,\r\n    selectAuthor,\r\n    selectDescription, selectFilename,\r\n    selectTitle, selectUploadState,\r\n    selectVideo,\r\n    setDescription, setFilename,\r\n    setTitle,\r\n    setVideo\r\n} from \"./uploadSlice\";\r\nimport {ChangeEvent, Dispatch, SetStateAction, useState} from \"react\";\r\nimport {selectLoggedIn, selectToken} from \"../LoginReg/Login/loginSlice\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport \"./Upload.scss\"\r\n\r\nexport function Upload() {\r\n    const author = useAppSelector(selectAuthor)\r\n    const title = useAppSelector(selectTitle)\r\n    const description = useAppSelector(selectDescription)\r\n    const fileName = useAppSelector(selectFilename)\r\n    const video = useAppSelector(selectVideo)\r\n    const token = useAppSelector(selectToken)\r\n    const state = useAppSelector(selectUploadState)\r\n    const dispatch = useAppDispatch()\r\n    const history = useHistory()\r\n    const loggedIn = useAppSelector(selectLoggedIn)\r\n\r\n    if (!loggedIn) {\r\n        history.push(\"/login\")\r\n    }\r\n\r\n    function handleFile(e: ChangeEvent<HTMLInputElement>) {\r\n        if (e.target.files === null || e.target.files.length < 1) return;\r\n        const file = e.target.files[0]\r\n        if (file.type != \"video/mp4\") return;\r\n        const fileReader = new FileReader()\r\n        fileReader.readAsDataURL(file)\r\n        fileReader.onload = () => {\r\n            dispatch(setVideo(fileReader.result as string))\r\n            dispatch(setFilename(file.name))\r\n        }\r\n    }\r\n\r\n    function postRequest() {\r\n        dispatch(postVideo({\r\n            state: state,\r\n            token: token,\r\n            history: history\r\n        }))\r\n\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={(e) => {\r\n            e.preventDefault();\r\n            postRequest()\r\n        }}>\r\n            <div id={\"form-container\"}>\r\n                <div id=\"side-spacer-left\">\r\n                </div>\r\n                <div id={\"inputs\"}>\r\n                    <label id={\"title\"}>\r\n                        Title<br/>\r\n                        <textarea value={title} onChange={(e) => {\r\n                            e.preventDefault();\r\n                            dispatch(setTitle(e.target.value))\r\n                        }}/>\r\n                    </label><br/>\r\n                    <br/>\r\n\r\n                    <label>\r\n                        Description<br/>\r\n                        <textarea value={description} onChange={(e) => {\r\n                            e.preventDefault();\r\n                            dispatch(setDescription(e.target.value))\r\n                        }} style={{height: \"120px\"}}/><br/>\r\n                    </label><br/>\r\n\r\n                    {/*<label id={\"thumbnail\"}>*/}\r\n                    {/*    Thumbnail<br/>*/}\r\n                    {/*    <div id=\"thumbnail-box-area\">*/}\r\n                    {/*        <div className={\"thumbnail-box\"}>*/}\r\n                    {/*            Upload Thumbnail*/}\r\n                    {/*        </div>*/}\r\n                    {/*        <div className={\"thumbnail-box\"}>*/}\r\n                    {/*        </div>*/}\r\n                    {/*        <div className={\"thumbnail-box\"}>*/}\r\n                    {/*        </div>*/}\r\n                    {/*        <div className={\"thumbnail-box\"}>*/}\r\n                    {/*        </div>*/}\r\n                    {/*    </div>*/}\r\n                    {/*</label>*/}\r\n                    <br/>\r\n                    <div style={{display: \"flex\", justifyContent: \"center\"}}>\r\n                        <button>Upload</button>\r\n                    </div>\r\n                </div>\r\n                <div id=\"video-right\">\r\n                    <label>\r\n                        Video\r\n                        <div id={\"videoprev\"} style={{textAlign: \"end\"}}>\r\n                            {fileName}\r\n                            {/*<input accept={\"video/mp4\"} type={\"file\"} onChange={handleFile}/>*/}\r\n                            <input style={{color: \"black\"}} accept={\"video/mp4\"} type={\"file\"} onChange={handleFile}/>\r\n                        </div>\r\n                    </label><br/>\r\n                </div>\r\n                <div id=\"side-spacer-right\">\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}","import {useAppDispatch, useAppSelector} from \"../hooks\";\r\nimport {getVideos, getVideosFromApiAsync, setVideos} from \"../Videos/videosSlice\";\r\nimport {Video, VideoDataResponse} from \"../Videos/VideoInterfaces\";\r\nimport {PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {useEffect} from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {setVideo} from \"../OneVideo/oneVideoSlice\";\r\nimport \"./Home.scss\"\r\n\r\nexport function Home() {\r\n    const dispatch = useAppDispatch()\r\n    const allVideos = useAppSelector(getVideos)\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        dispatch(getVideosFromApiAsync())\r\n        //Shows the format for videos\r\n    }, [])\r\n\r\n    function onClickVideo(id: string) {\r\n        history.push(`/watch/${id}`)\r\n    }\r\n\r\n    const rows = allVideos.map((video) => {\r\n        return (\r\n            <div className={\"video\"} onClick={() => onClickVideo(video._id)}>\r\n                {/*<img src={video.thumbnail}/>*/}<img\r\n                src={\"https://getuikit.com/v2/docs/images/placeholder_600x400.svg\"}/>\r\n                <div>\r\n                    {video.title} <br/>\r\n                    {video.author} <br/>\r\n                    {video.views} views <br/>\r\n                </div>\r\n            </div>\r\n        )\r\n    })\r\n    return (\r\n        <div id={\"home\"}>\r\n            <div id={\"sidebar\"}>\r\n\r\n            </div>\r\n            <div id={\"allvideos\"}>\r\n                {rows}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import axios, {AxiosResponse} from \"axios\";\r\nimport {VideoDataResponse} from \"./../Videos/VideoInterfaces\";\r\n\r\nexport function getOneVideoFromAPI(id: string){\r\n    return new Promise<AxiosResponse<VideoDataResponse>>((resolve) => {\r\n        axios.get(`/api/video/one/${id}`).then((data:AxiosResponse<VideoDataResponse>) =>{\r\n            resolve(data)\r\n        })\r\n    })\r\n}","import {createAsyncThunk, createSlice, PayloadAction} from '@reduxjs/toolkit';\r\nimport {RootState, AppThunk} from '../../app/store';\r\nimport axios, {AxiosResponse} from 'axios'\r\nimport {VideoDataResponse} from \"./../Videos/VideoInterfaces\";\r\nimport {Video} from \"./../Videos/VideoInterfaces\";\r\nimport {getOneVideoFromAPI} from \"./oneVideoApi\";\r\n\r\n//Even though it's one video we use an array in order to initialize it instead of an empty dictionary\r\n//and to reuse the video data response interface from the API\r\nexport interface OneVideoState {\r\n    status: string,\r\n    video: Video[]\r\n}\r\n\r\nconst initialState: OneVideoState = {\r\n    status: \"\",\r\n    video: []\r\n};\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched. Thunks are\r\n// typically used to make async requests.\r\nexport const getOneVideoFromApiAsync = createAsyncThunk(\r\n    'oneVideo/getOneVideoFromApi',\r\n    async (id:string) => {\r\n        const response = await getOneVideoFromAPI(id);\r\n        // // The value we return becomes the `fulfilled` action payload\r\n        return response.data;\r\n    }\r\n);\r\n\r\nexport const oneVideoSlice = createSlice({\r\n    name: 'upload',\r\n    initialState,\r\n    // The `reducers` field lets us define reducers and generate associated actions\r\n    reducers: {\r\n        setVideo: (state, video: PayloadAction<Video>) => {\r\n            state.video[0] = video.payload\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(getOneVideoFromApiAsync.pending, (state) => {\r\n                state.status = 'loading';\r\n            })\r\n            .addCase(getOneVideoFromApiAsync.fulfilled, (state, action) => {\r\n                state.status = 'idle';\r\n                state.video = action.payload.videos;\r\n            })\r\n    },\r\n\r\n    // author: \"\",\r\n    // description: \"\",\r\n    // thumbnail: \"\",\r\n    // status: 'idle',\r\n    // title: \"\",\r\n    // url: \"\",\r\n    // video: \"\"\r\n    // getVideosReq: (state) => {\r\n    //     axios.get(\"/api/video/all\").then((data:AxiosResponse<VideoDataResponse>) => {\r\n    //         state.videos = data.data.videos\r\n    //         console.log(data)\r\n    //     })\r\n    // }\r\n})\r\n// author: \"\",\r\n//     description: \"\",\r\n//     thumbnail: \"\",\r\n//     status: 'idle',\r\n//     title: \"\",\r\n//     url: \"\",\r\n//     video: \"\"\r\nexport const {\r\n    setVideo\r\n} = oneVideoSlice.actions;\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\r\nexport const getVideo = (state: RootState) => state.oneVideo.video;\r\n\r\n\r\nexport default oneVideoSlice.reducer;\r\n","import {useEffect} from \"react\";\r\nimport {useAppDispatch, useAppSelector} from \"../hooks\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {getOneVideoFromApiAsync, getVideo} from \"./oneVideoSlice\";\r\nimport {getOneVideoFromAPI} from \"./oneVideoApi\";\r\nimport \"./OneVideo.scss\"\r\n\r\ninterface idParams {\r\n    id: string;\r\n}\r\n\r\nexport function OneVideo() {\r\n    const dispatch = useAppDispatch()\r\n    const history = useHistory()\r\n    const oneVideo = useAppSelector(getVideo)\r\n    const params: idParams = useParams()\r\n    useEffect(() => {\r\n        //TODO: (SEVERE) [\"data:\"] Video object in initial state (dont use async thunk especially when redirecting)\r\n        // @ts-ignore\r\n        // if (oneVideo.length === 0 || (typeof oneVideo[0] === \"string\" && oneVideo[0].startsWith(\"data:\"))){\r\n        //     dispatch(getOneVideoFromApiAsync(params.id))\r\n        // }\r\n        dispatch(getOneVideoFromApiAsync(params.id))\r\n    }, [])\r\n    if (oneVideo.length === 0) {\r\n        return (\r\n            <div>\r\n                Loading...\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div id={\"container\"}>\r\n            <div id={\"onevideocontainer\"}>\r\n                <video id={\"video\"} controls>\r\n                    <source src={oneVideo[0].src} type={\"video/mp4\"}/>\r\n                </video>\r\n                <div id={\"title\"}>{oneVideo[0].title}</div>\r\n                <div id={\"description\"}><span\r\n                    style={{paddingRight: \"25px\"}}>{oneVideo[0].views} views</span>{new Date(oneVideo[0].date).toDateString()}\r\n                </div>\r\n                <div>\r\n                    <div style={{display: \"flex\", justifyContent: \"flex-end\"}}>\r\n                        {oneVideo[0].likes} likes\r\n                    </div>\r\n                    <hr/>\r\n                </div>\r\n            </div>\r\n            <div id={\"sidebar\"}>\r\n                Sidebar...\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}","import React, {ChangeEvent} from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Axios from 'axios'\r\nimport {useAppDispatch, useAppSelector} from \"../../hooks\";\r\nimport {\r\n    selectErrors,\r\n    selectUsernameErrors,\r\n    selectPassword,\r\n    selectUsername,\r\n    setPasswordError,\r\n    setUsernameError,\r\n    selectPasswordErrors,\r\n    setUsername,\r\n    setPassword,\r\n    loginFromApiAsync,\r\n    selectLoginState,\r\n    setLoggedIn,\r\n    setToken\r\n} from \"./loginSlice\";\r\nimport {LoginResponse} from \"./LoginInterface\";\r\nimport {PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nexport function Login() {\r\n    const dispatch = useAppDispatch()\r\n    const loginState = useAppSelector(selectLoginState)\r\n    const username = useAppSelector(selectUsername)\r\n    const password = useAppSelector(selectPassword)\r\n    const errorsUsername = useAppSelector(selectUsernameErrors)\r\n    const errorsPassword = useAppSelector(selectPasswordErrors)\r\n    const minUserLen = 4\r\n    const minPassLen = 4\r\n    const history = useHistory()\r\n\r\n    function handleChange(inputName: string, newStr: string) {\r\n        switch (inputName) {\r\n            case \"username\":\r\n                if (newStr.length < minUserLen) {\r\n                    dispatch(setUsernameError(`Username must be at least ${minUserLen} characters long!`))\r\n                } else {\r\n                    dispatch(setUsernameError(\"\"))\r\n                }\r\n                break\r\n            case \"password\":\r\n                if (newStr.length < minPassLen) {\r\n                    dispatch(setPasswordError(`Password must be at least ${minPassLen} characters long!`))\r\n                } else {\r\n                    dispatch(setPasswordError(\"\"))\r\n                }\r\n                break\r\n        }\r\n    }\r\n\r\n    function handleSubmit() {\r\n        if (username.length < minUserLen || password.length < minPassLen) return;\r\n        dispatch(loginFromApiAsync(loginState)).then((res:PayloadAction<LoginResponse | any>) => {\r\n            if (res.payload.status === \"successful\"){\r\n                //jwt here\r\n                localStorage.setItem(\"username\", res.payload.username)\r\n                localStorage.setItem(\"token\", res.payload.token)\r\n                localStorage.setItem(\"expiresAt\", Date.now() + res.payload.expiresIn)\r\n                //TODO: (SEVERE) HTTP COOKIE\r\n                document.cookie = res.payload.token\r\n                dispatch(setLoggedIn(true))\r\n                dispatch(setToken(res.payload.token))\r\n                history.push(\"/\")\r\n            }\r\n            else if (res.payload.status === \"wrong_password\"){\r\n                dispatch(setPasswordError(\"Incorrect Password!\"))\r\n            }\r\n            else {\r\n                dispatch(setUsernameError(\"Incorrect Login Details!\"))\r\n                dispatch(setPasswordError(\"Incorrect Login Details!\"))\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div style={{textAlign: \"center\"}}>\r\n            <form onSubmit={(e) => {\r\n                e.preventDefault();\r\n                handleSubmit();\r\n            }}>\r\n                <label>\r\n                    Username:<br/>\r\n                    <input type={\"text\"} name={\"username\"} value={username} onChange={(e) => {\r\n                        dispatch(setUsername(e.target.value));\r\n                        handleChange(\"username\", e.target.value);\r\n                    }}/><br/>\r\n                    {errorsUsername}\r\n                </label><br/>\r\n                <label>\r\n                    Password:<br/>\r\n                    <input type={\"password\"} name={\"password\"} value={password}\r\n                           onChange={(e) => {\r\n                               dispatch(setPassword(e.target.value));\r\n                               handleChange(\"password\", e.target.value);\r\n                           }}/><br/>\r\n                    {errorsPassword}\r\n                </label><br/>\r\n                <br/>\r\n                <input type={\"submit\"} value={\"Login\"}/>\r\n            </form>\r\n        </div>\r\n    );\r\n}","import React from 'react';\nimport logo from './logo.svg';\nimport {Counter} from './features/counter/Counter';\nimport './App.scss';\nimport {SearchBar} from \"./app/SearchBar/SearchBar\";\nimport {BrowserRouter as Router, Switch, Route, Link} from \"react-router-dom\";\nimport {SearchResults} from \"./app/SearchResults/SearchResults\";\nimport {Upload} from \"./app/Upload/Upload\";\nimport {Home} from \"./app/Home/Home\";\nimport {OneVideo} from \"./app/OneVideo/OneVideo\";\nimport {Login} from \"./app/LoginReg/Login/LoginReg\";\nimport {selectLoggedIn} from \"./app/LoginReg/Login/loginSlice\";\nimport {useAppSelector} from \"./app/hooks\";\n\nfunction App() {\n\n    return (\n        <div id={\"App\"}>\n            <Router>\n                <div id={\"header\"}>\n                    <Link style={{display: \"inline-block\"}} to={\"/\"}><p\n                        id={\"logo\"}>GroupShare</p></Link>\n                    <div style={{textAlign: \"center\", paddingTop: \"7px\"}}>\n                        <SearchBar/>\n                    </div>\n                    <div style={{paddingTop: \"5px\"}}>\n                        <Link style={{display: \"inline-block\", padding: \"0 15px 0 15px\"}}\n                              to={\"/login\"}>{useAppSelector(selectLoggedIn) ? \"Switch User\" : \"Login\"}</Link>\n                        <Link style={{display: \"inline-block\", padding: \"0 15px 0 15px\"}}\n                              to={\"/upload\"}>Upload</Link>\n                    </div>\n                </div>\n                <Switch>\n                    <Route exact path={\"/\"}>\n                        <Home/>\n                    </Route>\n                    <Route exact path={\"/watch/:id\"}>\n                        <OneVideo/>\n                    </Route>\n                    <Route path={\"/results/search_query=:query\"}>\n                        <SearchResults/>\n                    </Route>\n                    <Route path={\"/login\"}>\n                        <Login/>\n                    </Route>\n                    <Route path={\"/upload\"}>\n                        <Upload/>\n                    </Route>\n\n                </Switch>\n            </Router>\n        </div>\n    )\n\n}\n\nexport default App;\n","// A mock function to mimic making an async request for data\nexport function fetchCount(amount = 1) {\n  return new Promise<{ data: number }>((resolve) =>\n    setTimeout(() => resolve({ data: amount }), 500)\n  );\n}\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState, AppThunk } from '../../app/store';\nimport { fetchCount } from './counterAPI';\n\nexport interface CounterState {\n  value: number;\n  status: 'idle' | 'loading' | 'failed';\n}\n\nconst initialState: CounterState = {\n  value: 0,\n  status: 'idle',\n};\n\n// The function below is called a thunk and allows us to perform async logic. It\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\n// will call the thunk with the `dispatch` function as the first argument. Async\n// code can then be executed and other actions can be dispatched. Thunks are\n// typically used to make async requests.\nexport const incrementAsync = createAsyncThunk(\n  'counter/fetchCount',\n  async (amount: number) => {\n    const response = await fetchCount(amount);\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const counterSlice = createSlice({\n  name: 'counter',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {\n    increment: (state) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based off those changes\n      state.value += 1;\n    },\n    decrement: (state) => {\n      state.value -= 1;\n    },\n    // Use the PayloadAction type to declare the contents of `action.payload`\n    incrementByAmount: (state, action: PayloadAction<number>) => {\n      state.value += action.payload;\n    },\n  },\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\n  // including actions generated by createAsyncThunk or in other slices.\n  extraReducers: (builder) => {\n    builder\n      .addCase(incrementAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(incrementAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.value += action.payload;\n      });\n  },\n});\n\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nexport const selectCount = (state: RootState) => state.counter.value;\n\n// We can also write thunks by hand, which may contain both sync and async logic.\n// Here's an example of conditionally dispatching actions based on current state.\nexport const incrementIfOdd = (amount: number): AppThunk => (\n  dispatch,\n  getState\n) => {\n  const currentValue = selectCount(getState());\n  if (currentValue % 2 === 1) {\n    dispatch(incrementByAmount(amount));\n  }\n};\n\nexport default counterSlice.reducer;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport counterReducer from '../features/counter/counterSlice';\nimport uploadReducer from \"./Upload/uploadSlice\";\nimport videosReducer from \"./Videos/videosSlice\";\nimport oneVideoReducer from \"./OneVideo/oneVideoSlice\"\nimport loginReducer from \"./LoginReg/Login/loginSlice\"\n\nexport const store = configureStore({\n  reducer: {\n    counter: counterReducer,\n    upload: uploadReducer,\n    videos: videosReducer,\n    oneVideo: oneVideoReducer,\n    login: loginReducer\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}